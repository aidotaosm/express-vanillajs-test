// import Chart from "chart.js";
async function lala(paramSem, paramYear) {
  let url =
    "http://localhost:3000/testAPI?sem=" +
    paramSem +
    "&year=" +
    paramYear;
  try {
    let res = await fetch(url);
    return await res.json();
  } catch (error) {
    console.log(error);
  }
}

async function renderUsers(paramSem, paramYear) {
  let user = await lala(paramSem, paramYear);
  let html = "";

  // let htmlSegment = `<div class="user">${user.asd}</div>`;

  // html += htmlSegment;

  // let container = document.querySelector("#lele");
  // container.innerHTML = html;
  const feepercredit = 6000;

  //Calculation for database values for revenue
  // var credits1 = totalCredits(rf_sem1, rf_year1);
  // var credits2 = totalCredits(rf_sem2, rf_year2);
  // var credits3 = totalCredits(rf_sem3, rf_year3);
  // var rev1 = credits1 * feepercredit;
  // var rev2 = credits2 * feepercredit;
  // var rev3 = credits3 * feepercredit;

  var rf_xValues = [rf_x1, rf_x2, rf_x3];
  //var rf_yValues = [rev1, rev2, rev3]
  var rf_yValues = [user.asd, 70, 85];

  new Chart(document.getElementById("revenue-chart"), {
    type: "line",
    data: {
      labels: rf_xValues,
      datasets: [
        {
          data: rf_yValues,
          label: rf_t1,
          borderColor: "#3e95cd",
          fill: false,
        },
      ],
    },
    options: {
      title: {
        display: true,
        text: "Revenue generated by " + rf_t1 + " and % Change",
      },
    },
  });
}


//jshint esversion: 6

function generate(name) {
  //Taken from IUB website
  const feepercredit = 6000;

  //Calculation for database values for revenue
  // var credits1 = totalCredits(rf_sem1, rf_year1);
  // var credits2 = totalCredits(rf_sem2, rf_year2);
  // var credits3 = totalCredits(rf_sem3, rf_year3);
  // var rev1 = credits1 * feepercredit;
  // var rev2 = credits2 * feepercredit;
  // var rev3 = credits3 * feepercredit;

  var rf_xValues = [rf_x1, rf_x2, rf_x3];
  //var rf_yValues = [rev1, rev2, rev3]
  var rf_yValues = [50, 70, 85];

  new Chart(document.getElementById("revenue-chart"), {
    type: 'line',
    data: {
      labels: rf_xValues,
      datasets: [{
        data: rf_yValues,
        label: rf_t1,
        borderColor: "#3e95cd",
        fill: false
      }]
    },
    options: {
      title: {
        display: true,
        text: 'Revenue generated by ' + rf_t1 + ' and % Change'
      }
    }
  });
}
